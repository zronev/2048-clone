(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{12:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(3),c=t.n(o),u=function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",{className:"header__title"},"2048"))},i=t(5),f=t(1),l=function(e){var n=e.newGame,t=e.parent;return a.a.createElement("button",{onClick:n,className:"button button--new-game ".concat(t,"__restart")},"New Game")},s=function(e){var n=e.isOpen,t=e.newGame;return a.a.createElement("div",{className:"modal ".concat(n?"modal--open":"")},a.a.createElement("h3",{className:"modal__title"},"You lost..."),a.a.createElement(l,{newGame:t,parent:"modal"}))},m=function(e){var n=e.value;return a.a.createElement("div",{className:"grid__cell \n      ".concat(n?"":"grid__cell--empty"," \n      ").concat(n>2&&n<=2048?"grid__cell--".concat(n):"","\n      ").concat(n>2048?"grid__cell--over-2048":"")},n||"")},v=function(e){return JSON.parse(JSON.stringify(e))},h=function(e,n){return JSON.stringify(e)===JSON.stringify(n)},d=t(4),b=function e(){Object(d.a)(this,e),this.row=Math.floor(Math.random()*Math.floor(4)),this.column=Math.floor(Math.random()*Math.floor(4)),this.value=Math.random()>.9?4:2},E=function(e){for(var n=0;n<1;){var t=new b;e[t.row][t.column]||(e[t.row][t.column]=t.value,n++)}},p=function(e){for(var n=0;n<4;n++)for(var t=function(t){var r=e[n][t];if(!r)return"continue";for(var a=function(e,n){return n-(e+1)<0},o=function(n,t,r){return e[n-(r+1)][t]},c=function(e,n,t){return!a(t,e)&&o(e,n,t)===r},u=function(e,n,t){return!a(t,e)&&!o(e,n,t)},i=0,f=!1;!f;)u(n,t,i)?i++:f=!0;(i||c(n,t,i))&&(c(n,t,i)?e[n-(i+1)][t]=2*r:e[n-i][t]=r,e[n][t]=0,c(n,t,i)&&(n=0))},r=0;r<4;r++)t(r)},_=function(e){for(var n=3;n>-1;n--)for(var t=function(t){var r=e[n][t];if(!r)return"continue";for(var a=function(e,n){return e+(n+1)>3},o=function(n,t,r){return e[n+(r+1)][t]},c=function(e,n,t){return!a(e,t)&&o(e,n,t)===r},u=function(e,n,t){return!a(e,t)&&!o(e,n,t)},i=0,f=!1;!f;)u(n,t,i)?i++:f=!0;(i||c(n,t,i))&&(c(n,t,i)?e[n+(i+1)][t]=2*e[n][t]:e[n+i][t]=e[n][t],e[n][t]=0,c(n,t,i)&&(n=3))},r=0;r<4;r++)t(r)},g=function(e){for(var n=0;n<4;n++)for(var t=function(t){var r=e[t][n];if(!r)return"continue";for(var a=function(e,n){return e-(n+1)<0},o=function(n,t,r){return e[n][t-(r+1)]},c=function(e,n,t){return!a(n,t)&&o(e,n,t)===r},u=function(e,n,t){return!a(n,t)&&!o(e,n,t)},i=0,f=!1;!f;)u(t,n,i)?i++:f=!0;(i||c(t,n,i))&&(c(t,n,i)?e[t][n-(i+1)]=2*e[t][n]:e[t][n-i]=e[t][n],e[t][n]=0,c(t,n,i)&&(n=0))},r=0;r<4;r++)t(r)},N=function(e){for(var n=3;n>-1;n--)for(var t=function(t){var r=e[t][n];if(!r)return"continue";for(var a=function(e,n){return e+(n+1)>3},o=function(n,t,r){return e[n][t+(r+1)]},c=function(e,n,t){return!a(n,t)&&o(e,n,t)===r},u=function(e,n,t){return!a(n,t)&&!o(e,n,t)},i=0,f=!1;!f;)u(t,n,i)?i++:f=!0;(i||c(t,n,i))&&(c(t,n,i)?e[t][n+(i+1)]=2*e[t][n]:e[t][n+i]=e[t][n],e[t][n]=0)},r=0;r<4;r++)t(r)},w=function(){var e=Object(r.useRef)(),n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=Object(r.useState)(n),o=Object(f.a)(t,2),c=o[0],u=o[1],d=Object(r.useState)([n]),w=Object(f.a)(d,2),k=w[0],O=w[1],y=Object(r.useState)(!1),j=Object(f.a)(y,2),M=j[0],G=j[1],C=Object(r.useCallback)((function(){G(!1),O(n);var e=v(n);!function(e){for(var n=0;n<2;){var t=new b;e[t.row][t.column]||(e[t.row][t.column]=t.value,n++)}}(e),u(e)}),[n]);Object(r.useEffect)((function(){C()}),[]),Object(r.useEffect)((function(){(function(e){for(var n=0;n<4;n++)for(var t=0;t<4;t++)if(!e[n][t])return!1;return!0})(c)&&!function(e){for(var n=0;n<4;n++)for(var t=function(t){for(var r=e[n][t],a=function(e,n){return n-(e+1)<0},o=function(n,t,r){return e[n-(r+1)][t]},c=function(e,n,t){return!a(t,e)&&!o(e,n,t)},u=0,i=!1;!i;)c(n,t,u)?u++:i=!0;if(u||function(e,n,t){return!a(t,e)&&o(e,n,t)===r}(n,t,u))return{v:!0}},r=0;r<4;r++){var a=t(r);if("object"===typeof a)return a.v}return!1}(c)&&!function(e){for(var n=3;n>-1;n--)for(var t=function(t){var r=e[n][t];if(!r)return"continue";for(var a=function(e,n){return e+(n+1)>3},o=function(n,t,r){return e[n+(r+1)][t]},c=function(e,n,t){return!a(e,t)&&!o(e,n,t)},u=0,i=!1;!i;)c(n,t,u)?u++:i=!0;return u||function(e,n,t){return!a(e,t)&&o(e,n,t)===r}(n,t,u)?{v:!0}:void 0},r=0;r<4;r++){var a=t(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(c)&&!function(e){for(var n=0;n<4;n++)for(var t=function(t){var r=e[t][n];if(!r)return"continue";for(var a=function(e,n){return e-(n+1)<0},o=function(n,t,r){return e[n][t-(r+1)]},c=function(e,n,t){return!a(n,t)&&!o(e,n,t)},u=0,i=!1;!i;)c(t,n,u)?u++:i=!0;return u||function(e,n,t){return!a(n,t)&&o(e,n,t)===r}(t,n,u)?{v:!0}:void 0},r=0;r<4;r++){var a=t(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(c)&&!function(e){for(var n=3;n>-1;n--)for(var t=function(t){var r=e[t][n];if(!r)return"continue";for(var a=function(e,n){return e+(n+1)>3},o=function(n,t,r){return e[n][t+(r+1)]},c=function(e,n,t){return!a(n,t)&&!o(e,n,t)},u=0,i=!1;!i;)c(t,n,u)?u++:i=!0;return u||function(e,n,t){return!a(n,t)&&o(e,n,t)===r}(t,n,u)?{v:!0}:void 0},r=0;r<4;r++){var a=t(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(c)&&G(!0)}),[c]),Object(r.useEffect)((function(){var n=e.current,t=v(c),r=null,a=null,o=function(e){var n=function(e){return e.touches}(e)[0];r=n.clientX,a=n.clientY},f=function(e){if(e.preventDefault(),r&&a){var n=e.touches[0].clientX,o=e.touches[0].clientY,i=r-n,f=a-o;Math.abs(i)>Math.abs(f)?i>0?g(t):N(t):f>0?p(t):_(t),r=null,a=null,!h(c,t)&&E(t),O(c),u(t)}},l=function(e){38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),function(e){switch(e){case 38:p(t);break;case 40:_(t);break;case 37:g(t);break;case 39:N(t)}!h(c,t)&&E(t),O((function(e){return[].concat(Object(i.a)(e),[c])})),u(t)}(e.keyCode)};return document.addEventListener("keydown",l),n.addEventListener("touchstart",o),n.addEventListener("touchmove",f),function(){document.removeEventListener("keydown",l),n.removeEventListener("touchstart",o),n.removeEventListener("touchmove",f)}}),[c]);return a.a.createElement("section",{className:"game"},a.a.createElement("header",{className:"game-info"},a.a.createElement("button",{onClick:function(){if(!h(k,n)){var e=k.length;u(k[e-1])}},className:"button game-info__undo"},"Undo"),a.a.createElement(l,{newGame:C,parent:"game-info"})),a.a.createElement("main",{ref:e,className:"grid"},c.map((function(e,n){return e.map((function(e,t){return a.a.createElement(m,{key:t,value:e,row:n,column:t})}))}))),a.a.createElement(s,{isOpen:M,newGame:C}))},k=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement("p",{className:"footer__para"},a.a.createElement("span",{className:"bold"},"HOW TO PLAY:")," Use your"," ",a.a.createElement("span",{className:"bold"},"arrow keys")," to move the tiles. When two tiles with the same number touch, they ",a.a.createElement("span",{className:"bold"},"merge into one!")),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("p",{className:"footer__para"},"This game was created by"," ",a.a.createElement("a",{href:"http://gabrielecirulli.com/",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"Gabriele Cirulli")," ","\u2014 original game"," ",a.a.createElement("a",{href:"http://git.io/2048",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"website.")," ","I've just cloned the game for fun and testing my code skills."),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("div",{className:"footer__links"},a.a.createElement("a",{href:"https://github.com/zronev/2048-clone",target:"_blank",rel:"noopener noreferrer",className:"button"},"Repo"),a.a.createElement("a",{href:"https://github.com/zronev",target:"_blank",rel:"noopener noreferrer",className:"button"},"Github profile")))};var O=function(){return a.a.createElement("div",{className:"main"},a.a.createElement(u,null),a.a.createElement(w,null),a.a.createElement(k,null))};t(11),t(12);c.a.render(a.a.createElement(O,null),document.getElementById("root"))},6:function(e,n,t){e.exports=t(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.8faef952.chunk.js.map