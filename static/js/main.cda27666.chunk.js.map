{"version":3,"sources":["components/Header.js","components/NewGameButton.js","components/ModalLost.js","components/Cell.js","components/UndoButton.js","components/Score.js","helpers/utility.js","helpers/cell.js","helpers/moves.js","components/Grid.js","helpers/checks.js","components/Footer.js","App.js","index.js"],"names":["Header","className","NewGameButton","newGame","parent","onClick","ModalLost","isOpen","Cell","value","UndoButton","handleUndoClick","Score","score","bestScore","arrayClone","arr","JSON","parse","stringify","arraysEqual","arr1","arr2","randomCell","this","row","Math","floor","random","column","spawnRandomCell","grid","count","cell","moveUp","roundScore","currentCell","isOutBoundaries","distance","cellAbove","isEqual","doesntColliding","foundDistance","moveDown","cellBelow","moveLeft","cellOnLeft","moveRight","cellOnRight","Grid","inititalState","gridRef","useRef","useState","setGrid","setScore","setBestScore","lastTurnGrid","setLastTurnGrid","modalIsOpen","setModalIsOpen","useCallback","gridClone","spawnTwoRandomCells","useEffect","checkIsGridFull","checkUp","checkDown","checkLeft","checkRight","gridNode","current","xDown","yDown","handleTouchStart","e","firstTouch","touches","getTouches","clientX","clientY","handleTouchMove","preventDefault","xUp","yUp","xDiff","yDiff","abs","handleKeyDown","keyCode","direction","round","document","addEventListener","removeEventListener","length","ref","map","index","key","Footer","href","target","rel","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cda27666.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"header__title\">2048</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst NewGameButton = ({ newGame, parent }) => {\r\n  return (\r\n    <button onClick={newGame} className={`button button--new-game ${parent}__restart`}>\r\n      New Game\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default NewGameButton\r\n","import React from 'react'\r\nimport NewGameButton from './NewGameButton'\r\n\r\nconst ModalLost = ({ isOpen, newGame }) => {\r\n  return (\r\n    <div className={`modal ${isOpen ? 'modal--open' : ''}`}>\r\n      <h3 className=\"modal__title\">You lost...</h3>\r\n      <NewGameButton newGame={newGame} parent=\"modal\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalLost\r\n","import React from 'react'\r\n\r\nconst Cell = ({ value }) => {\r\n  return (\r\n    <div\r\n      className={`grid__cell \r\n      ${value ? '' : 'grid__cell--empty'} \r\n      ${value > 2 && value <= 2048 ? `grid__cell--${value}` : ''}\r\n      ${value > 2048 ? `grid__cell--over-2048` : ''}`}\r\n    >\r\n      {value ? value : ''}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cell\r\n","import React from 'react'\r\n\r\nconst UndoButton = ({ handleUndoClick }) => {\r\n  return (\r\n    <button onClick={handleUndoClick} className=\"button game-info__undo\">\r\n      Undo\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default UndoButton\r\n","import React from 'react'\r\n\r\nconst Score = ({ score, bestScore }) => {\r\n  return (\r\n    <div className=\"score-bar\">\r\n      <span className=\"score\">\r\n        <span className=\"score__title\">Score</span>\r\n        <span className=\"score__number\">{score}</span>\r\n      </span>\r\n      <span className=\"score score--best\">\r\n        <span className=\"score__title\">Best</span>\r\n        <span className=\"score__number\">{bestScore}</span>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Score\r\n","export const arrayClone = arr => JSON.parse(JSON.stringify(arr)) // to deep clone matrix\r\n\r\nexport const arraysEqual = (arr1, arr2) => JSON.stringify(arr1) === JSON.stringify(arr2)\r\n","class randomCell {\r\n  constructor() {\r\n    this.row = Math.floor(Math.random() * Math.floor(4))\r\n    this.column = Math.floor(Math.random() * Math.floor(4))\r\n    this.value = Math.random() > 0.9 ? 4 : 2\r\n  }\r\n}\r\n\r\nexport const spawnTwoRandomCells = grid => {\r\n  let count = 0\r\n  while (count < 2) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\nexport const spawnRandomCell = grid => {\r\n  let count = 0\r\n  while (count < 1) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\n\r\n","export const moveUp = (grid, roundScore) => {\r\n  for (let row = 0; row < 4; row++) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (distance, row) => row - (distance + 1) < 0\r\n\r\n      let cellAbove = (row, column, distance) => grid[row - (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) &&\r\n        cellAbove(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) && !cellAbove(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) {\r\n        if (isEqual(row, column, distance)) {\r\n          grid[row - (distance + 1)][column] = currentCell * 2\r\n          roundScore += currentCell * 2\r\n        } else grid[row - distance][column] = currentCell\r\n\r\n        grid[row][column] = 0\r\n        if (isEqual(row, column, distance)) row = 0\r\n      }\r\n    }\r\n  }\r\n  return [grid, roundScore]\r\n}\r\n\r\nexport const moveDown = (grid, roundScore) => {\r\n  for (let row = 3; row > -1; row--) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (row, distance) => row + (distance + 1) > 3\r\n\r\n      let cellBelow = (row, column, distance) => grid[row + (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) &&\r\n        cellBelow(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) && !cellBelow(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) {\r\n        if (isEqual(row, column, distance)) {\r\n          grid[row + (distance + 1)][column] = grid[row][column] * 2\r\n          roundScore += currentCell * 2\r\n        } else grid[row + distance][column] = grid[row][column]\r\n\r\n        grid[row][column] = 0\r\n        if (isEqual(row, column, distance)) row = 3\r\n      }\r\n    }\r\n  }\r\n  return [grid, roundScore]\r\n}\r\n\r\nexport const moveLeft = (grid, roundScore) => {\r\n  for (let column = 0; column < 4; column++) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column - (distance + 1) < 0\r\n\r\n      let cellOnLeft = (row, column, distance) => grid[row][column - (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnLeft(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) {\r\n        if (isEqual(row, column, distance)) {\r\n          grid[row][column - (distance + 1)] = grid[row][column] * 2\r\n          roundScore += currentCell * 2\r\n        } else grid[row][column - distance] = grid[row][column]\r\n\r\n        grid[row][column] = 0\r\n        if (isEqual(row, column, distance)) column = 0\r\n      }\r\n    }\r\n  }\r\n  return [grid, roundScore]\r\n}\r\n\r\nexport const moveRight = (grid, roundScore) => {\r\n  for (let column = 3; column > -1; column--) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column + (distance + 1) > 3\r\n\r\n      let cellOnRight = (row, column, distance) => grid[row][column + (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnRight(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnRight(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) {\r\n        if (isEqual(row, column, distance)) {\r\n          grid[row][column + (distance + 1)] = grid[row][column] * 2\r\n          roundScore += currentCell * 2\r\n        } else grid[row][column + distance] = grid[row][column]\r\n\r\n        grid[row][column] = 0\r\n      }\r\n    }\r\n  }\r\n  return [grid, roundScore]\r\n}\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\r\n\r\nimport ModalLost from './ModalLost'\r\nimport Cell from './Cell'\r\nimport NewGameButton from './NewGameButton'\r\nimport UndoButton from './UndoButton'\r\nimport Score from './Score'\r\n\r\nimport { arrayClone, arraysEqual } from '../helpers/utility'\r\nimport { spawnTwoRandomCells, spawnRandomCell } from '../helpers/cell'\r\nimport { moveUp, moveDown, moveLeft, moveRight } from '../helpers/moves'\r\nimport { checkUp, checkDown, checkLeft, checkRight } from '../helpers/checks'\r\n\r\nconst Grid = () => {\r\n  const inititalState = [\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n  ]\r\n\r\n  const gridRef = useRef()\r\n  const [grid, setGrid] = useState(inititalState)\r\n  const [score, setScore] = useState(0)\r\n  const [bestScore, setBestScore] = useState(0)\r\n  const [lastTurnGrid, setLastTurnGrid] = useState([inititalState])\r\n  const [modalIsOpen, setModalIsOpen] = useState(false)\r\n\r\n  // Key codes\r\n  const UP = 38\r\n  const DOWN = 40\r\n  const LEFT = 37\r\n  const RIGHT = 39\r\n\r\n  const newGame = useCallback(() => {\r\n    // Reset\r\n    setModalIsOpen(false)\r\n    setLastTurnGrid(inititalState)\r\n    setScore(0)\r\n\r\n    // New grid with random cells\r\n    let gridClone = arrayClone(inititalState)\r\n    spawnTwoRandomCells(gridClone)\r\n    setGrid(gridClone)\r\n  }, [inititalState])\r\n\r\n  useEffect(() => {\r\n    newGame()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const checkIsGridFull = grid => {\r\n      for (let row = 0; row < 4; row++) {\r\n        for (let column = 0; column < 4; column++) {\r\n          if (!grid[row][column]) return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n\r\n    const checkIsGameLost = () => {\r\n      const noMovesAvailable =\r\n        !checkUp(grid) && !checkDown(grid) && !checkLeft(grid) && !checkRight(grid)\r\n\r\n      noMovesAvailable && setModalIsOpen(true)\r\n    }\r\n\r\n    if (checkIsGridFull(grid)) checkIsGameLost()\r\n  }, [grid])\r\n\r\n  useEffect(() => {\r\n    score > bestScore && setBestScore(score)\r\n\r\n    const gridNode = gridRef.current\r\n    let gridClone = arrayClone(grid)\r\n    let roundScore = 0\r\n\r\n    let xDown = null\r\n    let yDown = null\r\n\r\n    const getTouches = e => e.touches\r\n\r\n    const handleTouchStart = e => {\r\n      const firstTouch = getTouches(e)[0]\r\n      xDown = firstTouch.clientX\r\n      yDown = firstTouch.clientY\r\n    }\r\n\r\n    const handleTouchMove = e => {\r\n      e.preventDefault()\r\n      if (!xDown || !yDown) return\r\n\r\n      let xUp = e.touches[0].clientX\r\n      let yUp = e.touches[0].clientY\r\n\r\n      let xDiff = xDown - xUp\r\n      let yDiff = yDown - yUp\r\n\r\n      if (Math.abs(xDiff) > Math.abs(yDiff)) {\r\n        if (xDiff > 0) [gridClone, roundScore] = moveLeft(gridClone, roundScore)\r\n        else [gridClone, roundScore] = moveRight(gridClone, roundScore)\r\n      } else {\r\n        if (yDiff > 0) [gridClone, roundScore] = moveUp(gridClone, roundScore)\r\n        else [gridClone, roundScore] = moveDown(gridClone, roundScore)\r\n      }\r\n\r\n      xDown = null\r\n      yDown = null\r\n\r\n      !arraysEqual(grid, gridClone) && spawnRandomCell(gridClone)\r\n      setLastTurnGrid(grid)\r\n      \r\n      setGrid(gridClone)\r\n    }\r\n\r\n    const round = direction => {\r\n      switch (direction) {\r\n        case UP:\r\n          [gridClone, roundScore] = moveUp(gridClone, roundScore)\r\n          break\r\n        case DOWN:\r\n          [gridClone, roundScore] = moveDown(gridClone, roundScore)\r\n          break\r\n        case LEFT:\r\n          [gridClone, roundScore] = moveLeft(gridClone, roundScore)\r\n          break\r\n        case RIGHT:\r\n          [gridClone, roundScore] = moveRight(gridClone, roundScore)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n\r\n      setScore(score => score + roundScore)\r\n\r\n      setLastTurnGrid(lastTurnGrid => [...lastTurnGrid, grid])\r\n      !arraysEqual(grid, gridClone) && spawnRandomCell(gridClone)\r\n\r\n      setGrid(gridClone)\r\n    }\r\n\r\n    const handleKeyDown = e => {\r\n      // disable scrolling on arrows\r\n      if (e.keyCode === UP || e.keyCode === DOWN) e.preventDefault()\r\n      round(e.keyCode)\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown)\r\n    gridNode.addEventListener('touchstart', handleTouchStart)\r\n    gridNode.addEventListener('touchmove', handleTouchMove)\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyDown)\r\n      gridNode.removeEventListener('touchstart', handleTouchStart)\r\n      gridNode.removeEventListener('touchmove', handleTouchMove)\r\n    }\r\n  }, [bestScore, grid, score])\r\n\r\n  const handleUndoClick = () => {\r\n    if (arraysEqual(lastTurnGrid, inititalState)) return\r\n    const length = lastTurnGrid.length\r\n    setGrid(lastTurnGrid[length - 1])\r\n  }\r\n\r\n  return (\r\n    <section className=\"game\">\r\n      <header className=\"game-info\">\r\n        <Score score={score} bestScore={bestScore} />\r\n        <div className=\"buttons\">\r\n          <UndoButton handleUndoClick={handleUndoClick} />\r\n          <NewGameButton newGame={newGame} parent=\"game-info\" />\r\n        </div>\r\n      </header>\r\n      <main ref={gridRef} className=\"grid\">\r\n        {grid.map((row, index) =>\r\n          row.map((cell, column) => (\r\n            <Cell key={column} value={cell} row={index} column={column} />\r\n          )),\r\n        )}\r\n      </main>\r\n      <ModalLost isOpen={modalIsOpen} newGame={newGame} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Grid\r\n","export const checkUp = grid => {\r\n  for (let row = 0; row < 4; row++) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n\r\n      let isOutBoundaries = (distance, row) => row - (distance + 1) < 0\r\n\r\n      let cellAbove = (row, column, distance) => grid[row - (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) &&\r\n        cellAbove(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) && !cellAbove(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkDown = grid => {\r\n  for (let row = 3; row > -1; row--) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (row, distance) => row + (distance + 1) > 3\r\n\r\n      let cellBelow = (row, column, distance) => grid[row + (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) &&\r\n        cellBelow(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) && !cellBelow(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkLeft = grid => {\r\n  for (let column = 0; column < 4; column++) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column - (distance + 1) < 0\r\n\r\n      let cellOnLeft = (row, column, distance) => grid[row][column - (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnLeft(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkRight = grid => {\r\n  for (let column = 3; column > -1; column--) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column + (distance + 1) > 3\r\n\r\n      let cellOnLeft = (row, column, distance) => grid[row][column + (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnLeft(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__para\">\r\n        <span className=\"bold\">HOW TO PLAY:</span> Use your{' '}\r\n        <span className=\"bold\">arrow keys</span> to move the tiles. When two tiles with\r\n        the same number touch, they <span className=\"bold\">merge into one!</span>\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <p className=\"footer__para\">\r\n        This game was created by{' '}\r\n        <a\r\n          href=\"http://gabrielecirulli.com/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          Gabriele Cirulli\r\n        </a>{' '}\r\n        â€” original game{' '}\r\n        <a\r\n          href=\"http://git.io/2048\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          website.\r\n        </a>{' '}\r\n        I've just cloned the game for fun and testing my code skills.\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <div className=\"footer__links\">\r\n        <a\r\n          href=\"https://github.com/zronev/2048-clone\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Repo\r\n        </a>\r\n        <a\r\n          href=\"https://github.com/zronev\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Github profile\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\nimport Header from './components/Header'\nimport Grid from './components/Grid'\nimport Footer from './components/Footer'\n\nfunction App() {\n  return (\n    <div className=\"main\">\n      <Header />\n      <Grid />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport 'normalize.css'\nimport './scss/style.scss'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}