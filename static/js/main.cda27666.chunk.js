(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),u=function(){return a.a.createElement("header",{className:"header"},a.a.createElement("h1",{className:"header__title"},"2048"))},i=n(5),l=n(1),f=function(e){var t=e.newGame,n=e.parent;return a.a.createElement("button",{onClick:t,className:"button button--new-game ".concat(n,"__restart")},"New Game")},s=function(e){var t=e.isOpen,n=e.newGame;return a.a.createElement("div",{className:"modal ".concat(t?"modal--open":"")},a.a.createElement("h3",{className:"modal__title"},"You lost..."),a.a.createElement(f,{newGame:n,parent:"modal"}))},m=function(e){var t=e.value;return a.a.createElement("div",{className:"grid__cell \n      ".concat(t?"":"grid__cell--empty"," \n      ").concat(t>2&&t<=2048?"grid__cell--".concat(t):"","\n      ").concat(t>2048?"grid__cell--over-2048":"")},t||"")},v=function(e){var t=e.handleUndoClick;return a.a.createElement("button",{onClick:t,className:"button game-info__undo"},"Undo")},b=function(e){var t=e.score,n=e.bestScore;return a.a.createElement("div",{className:"score-bar"},a.a.createElement("span",{className:"score"},a.a.createElement("span",{className:"score__title"},"Score"),a.a.createElement("span",{className:"score__number"},t)),a.a.createElement("span",{className:"score score--best"},a.a.createElement("span",{className:"score__title"},"Best"),a.a.createElement("span",{className:"score__number"},n)))},d=function(e){return JSON.parse(JSON.stringify(e))},h=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},E=n(4),p=function e(){Object(E.a)(this,e),this.row=Math.floor(Math.random()*Math.floor(4)),this.column=Math.floor(Math.random()*Math.floor(4)),this.value=Math.random()>.9?4:2},_=function(e){for(var t=0;t<1;){var n=new p;e[n.row][n.column]||(e[n.row][n.column]=n.value,t++)}},N=function(e,t){for(var n=0;n<4;n++)for(var r=function(r){var a=e[n][r];if(!a)return"continue";for(var c=function(e,t){return t-(e+1)<0},o=function(t,n,r){return e[t-(r+1)][n]},u=function(e,t,n){return!c(n,e)&&o(e,t,n)===a},i=function(e,t,n){return!c(n,e)&&!o(e,t,n)},l=0,f=!1;!f;)i(n,r,l)?l++:f=!0;(l||u(n,r,l))&&(u(n,r,l)?(e[n-(l+1)][r]=2*a,t+=2*a):e[n-l][r]=a,e[n][r]=0,u(n,r,l)&&(n=0))},a=0;a<4;a++)r(a);return[e,t]},O=function(e,t){for(var n=3;n>-1;n--)for(var r=function(r){var a=e[n][r];if(!a)return"continue";for(var c=function(e,t){return e+(t+1)>3},o=function(t,n,r){return e[t+(r+1)][n]},u=function(e,t,n){return!c(e,n)&&o(e,t,n)===a},i=function(e,t,n){return!c(e,n)&&!o(e,t,n)},l=0,f=!1;!f;)i(n,r,l)?l++:f=!0;(l||u(n,r,l))&&(u(n,r,l)?(e[n+(l+1)][r]=2*e[n][r],t+=2*a):e[n+l][r]=e[n][r],e[n][r]=0,u(n,r,l)&&(n=3))},a=0;a<4;a++)r(a);return[e,t]},j=function(e,t){for(var n=0;n<4;n++)for(var r=function(r){var a=e[r][n];if(!a)return"continue";for(var c=function(e,t){return e-(t+1)<0},o=function(t,n,r){return e[t][n-(r+1)]},u=function(e,t,n){return!c(t,n)&&o(e,t,n)===a},i=function(e,t,n){return!c(t,n)&&!o(e,t,n)},l=0,f=!1;!f;)i(r,n,l)?l++:f=!0;(l||u(r,n,l))&&(u(r,n,l)?(e[r][n-(l+1)]=2*e[r][n],t+=2*a):e[r][n-l]=e[r][n],e[r][n]=0,u(r,n,l)&&(n=0))},a=0;a<4;a++)r(a);return[e,t]},g=function(e,t){for(var n=3;n>-1;n--)for(var r=function(r){var a=e[r][n];if(!a)return"continue";for(var c=function(e,t){return e+(t+1)>3},o=function(t,n,r){return e[t][n+(r+1)]},u=function(e,t,n){return!c(t,n)&&o(e,t,n)===a},i=function(e,t,n){return!c(t,n)&&!o(e,t,n)},l=0,f=!1;!f;)i(r,n,l)?l++:f=!0;(l||u(r,n,l))&&(u(r,n,l)?(e[r][n+(l+1)]=2*e[r][n],t+=2*a):e[r][n+l]=e[r][n],e[r][n]=0)},a=0;a<4;a++)r(a);return[e,t]},w=function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=Object(r.useRef)(),n=Object(r.useState)(e),c=Object(l.a)(n,2),o=c[0],u=c[1],E=Object(r.useState)(0),w=Object(l.a)(E,2),k=w[0],y=w[1],S=Object(r.useState)(0),C=Object(l.a)(S,2),M=C[0],G=C[1],L=Object(r.useState)([e]),J=Object(l.a)(L,2),U=J[0],Y=J[1],z=Object(r.useState)(!1),B=Object(l.a)(z,2),D=B[0],I=B[1],R=Object(r.useCallback)((function(){I(!1),Y(e),y(0);var t=d(e);!function(e){for(var t=0;t<2;){var n=new p;e[n.row][n.column]||(e[n.row][n.column]=n.value,t++)}}(t),u(t)}),[e]);Object(r.useEffect)((function(){R()}),[]),Object(r.useEffect)((function(){(function(e){for(var t=0;t<4;t++)for(var n=0;n<4;n++)if(!e[t][n])return!1;return!0})(o)&&!function(e){for(var t=0;t<4;t++)for(var n=function(n){for(var r=e[t][n],a=function(e,t){return t-(e+1)<0},c=function(t,n,r){return e[t-(r+1)][n]},o=function(e,t,n){return!a(n,e)&&!c(e,t,n)},u=0,i=!1;!i;)o(t,n,u)?u++:i=!0;if(u||function(e,t,n){return!a(n,e)&&c(e,t,n)===r}(t,n,u))return{v:!0}},r=0;r<4;r++){var a=n(r);if("object"===typeof a)return a.v}return!1}(o)&&!function(e){for(var t=3;t>-1;t--)for(var n=function(n){var r=e[t][n];if(!r)return"continue";for(var a=function(e,t){return e+(t+1)>3},c=function(t,n,r){return e[t+(r+1)][n]},o=function(e,t,n){return!a(e,n)&&!c(e,t,n)},u=0,i=!1;!i;)o(t,n,u)?u++:i=!0;return u||function(e,t,n){return!a(e,n)&&c(e,t,n)===r}(t,n,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&!function(e){for(var t=0;t<4;t++)for(var n=function(n){var r=e[n][t];if(!r)return"continue";for(var a=function(e,t){return e-(t+1)<0},c=function(t,n,r){return e[t][n-(r+1)]},o=function(e,t,n){return!a(t,n)&&!c(e,t,n)},u=0,i=!1;!i;)o(n,t,u)?u++:i=!0;return u||function(e,t,n){return!a(t,n)&&c(e,t,n)===r}(n,t,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&!function(e){for(var t=3;t>-1;t--)for(var n=function(n){var r=e[n][t];if(!r)return"continue";for(var a=function(e,t){return e+(t+1)>3},c=function(t,n,r){return e[t][n+(r+1)]},o=function(e,t,n){return!a(t,n)&&!c(e,t,n)},u=0,i=!1;!i;)o(n,t,u)?u++:i=!0;return u||function(e,t,n){return!a(t,n)&&c(e,t,n)===r}(n,t,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&I(!0)}),[o]),Object(r.useEffect)((function(){k>M&&G(k);var e=t.current,n=d(o),r=0,a=null,c=null,f=function(e){var t=function(e){return e.touches}(e)[0];a=t.clientX,c=t.clientY},s=function(e){if(e.preventDefault(),a&&c){var t=e.touches[0].clientX,i=e.touches[0].clientY,f=a-t,s=c-i;if(Math.abs(f)>Math.abs(s))if(f>0){var m=j(n,r),v=Object(l.a)(m,2);n=v[0],r=v[1]}else{var b=g(n,r),d=Object(l.a)(b,2);n=d[0],r=d[1]}else if(s>0){var E=N(n,r),p=Object(l.a)(E,2);n=p[0],r=p[1]}else{var w=O(n,r),k=Object(l.a)(w,2);n=k[0],r=k[1]}a=null,c=null,!h(o,n)&&_(n),Y(o),u(n)}},m=function(e){38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),function(e){switch(e){case 38:var t=N(n,r),a=Object(l.a)(t,2);n=a[0],r=a[1];break;case 40:var c=O(n,r),f=Object(l.a)(c,2);n=f[0],r=f[1];break;case 37:var s=j(n,r),m=Object(l.a)(s,2);n=m[0],r=m[1];break;case 39:var v=g(n,r),b=Object(l.a)(v,2);n=b[0],r=b[1]}y((function(e){return e+r})),Y((function(e){return[].concat(Object(i.a)(e),[o])})),!h(o,n)&&_(n),u(n)}(e.keyCode)};return document.addEventListener("keydown",m),e.addEventListener("touchstart",f),e.addEventListener("touchmove",s),function(){document.removeEventListener("keydown",m),e.removeEventListener("touchstart",f),e.removeEventListener("touchmove",s)}}),[M,o,k]);return a.a.createElement("section",{className:"game"},a.a.createElement("header",{className:"game-info"},a.a.createElement(b,{score:k,bestScore:M}),a.a.createElement("div",{className:"buttons"},a.a.createElement(v,{handleUndoClick:function(){if(!h(U,e)){var t=U.length;u(U[t-1])}}}),a.a.createElement(f,{newGame:R,parent:"game-info"}))),a.a.createElement("main",{ref:t,className:"grid"},o.map((function(e,t){return e.map((function(e,n){return a.a.createElement(m,{key:n,value:e,row:t,column:n})}))}))),a.a.createElement(s,{isOpen:D,newGame:R}))},k=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement("p",{className:"footer__para"},a.a.createElement("span",{className:"bold"},"HOW TO PLAY:")," Use your"," ",a.a.createElement("span",{className:"bold"},"arrow keys")," to move the tiles. When two tiles with the same number touch, they ",a.a.createElement("span",{className:"bold"},"merge into one!")),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("p",{className:"footer__para"},"This game was created by"," ",a.a.createElement("a",{href:"http://gabrielecirulli.com/",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"Gabriele Cirulli")," ","\u2014 original game"," ",a.a.createElement("a",{href:"http://git.io/2048",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"website.")," ","I've just cloned the game for fun and testing my code skills."),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("div",{className:"footer__links"},a.a.createElement("a",{href:"https://github.com/zronev/2048-clone",target:"_blank",rel:"noopener noreferrer",className:"button"},"Repo"),a.a.createElement("a",{href:"https://github.com/zronev",target:"_blank",rel:"noopener noreferrer",className:"button"},"Github profile")))};var y=function(){return a.a.createElement("div",{className:"main"},a.a.createElement(u,null),a.a.createElement(w,null),a.a.createElement(k,null))};n(11),n(12);o.a.render(a.a.createElement(y,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.cda27666.chunk.js.map