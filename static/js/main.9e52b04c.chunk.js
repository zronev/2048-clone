(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),u=n(1),l=function(e){var t=e.newGame,n=e.parent;return a.a.createElement("button",{onClick:t,className:"button button--new-game ".concat(n,"__restart")},"New Game")},i=function(e){var t=e.isOpen,n=e.newGame;return a.a.createElement("div",{className:"modal ".concat(t?"modal--open":"")},a.a.createElement("h3",{className:"modal__title"},"You lost..."),a.a.createElement(l,{newGame:n,parent:"modal"}))},s=function(e){var t=e.cell,n=t.value,r=t.className;return a.a.createElement("div",{className:"grid__cell grid__cell--".concat(r,"\n      ").concat(n>2&&n<=2048?"grid__cell--".concat(n):"","\n      ").concat(n>2048?"grid__cell--over-2048":"")},n||"")},f=function(e){var t=e.handleUndoClick;return a.a.createElement("button",{onClick:t,className:"button game-info__undo"},"Undo")},m=function(e){var t=e.score,n=e.bestScore;return a.a.createElement("div",{className:"score-bar"},a.a.createElement("span",{className:"score"},a.a.createElement("span",{className:"score__title"},"Score"),a.a.createElement("span",{className:"score__number"},t)),a.a.createElement("span",{className:"score score--best"},a.a.createElement("span",{className:"score__title"},"Best"),a.a.createElement("span",{className:"score__number"},n)))},v=function(e){return JSON.parse(JSON.stringify(e))},b=function(e,t){var n=e.map((function(e){return e.map((function(e){return e.value}))})),r=t.map((function(e){return e.map((function(e){return e.value}))}));return JSON.stringify(n)===JSON.stringify(r)},d=n(2),h=function e(){Object(d.a)(this,e),this.value=0,this.className="empty"},p=function e(){Object(d.a)(this,e),this.row=Math.floor(Math.random()*Math.floor(4)),this.column=Math.floor(Math.random()*Math.floor(4)),this.value=Math.random()>.9?4:2,this.className="emerged"},E=function(e){for(var t=0;t<1;){var n=new p;e[n.row][n.column].value||(e[n.row][n.column]=n,t++)}},N=n(3),O=n(6),j=function(e,t){var n=M(v(e)),r=t;n=C(n);var a=k(n,r),c=Object(u.a)(a,2);return n=c[0],r=c[1],n=C(n),[n=G(n),r]},_=function(e,t){var n=v(e),r=t;n=M(n);var a=k(n,r),c=Object(u.a)(a,2);return n=c[0],r=c[1],[n=G(n),r]},g=function(e,t){var n=C(v(e)),r=t,a=k(n,r),c=Object(u.a)(a,2);return n=c[0],r=c[1],[n=C(n),r]},w=function(e,t){var n=v(e),r=t,a=k(n,r),c=Object(u.a)(a,2);return[n=c[0],r=c[1]]},k=function(e,t){for(var n=v(e),r=t,a=0;a<4;a++){n[a]=y(n[a]);var c=S(n[a],r),o=Object(u.a)(c,2);n[a]=o[0],r=o[1],n[a]=y(n[a])}return[n,r]},y=function(e){var t=v(e);t=(t=t.filter((function(e){return e.value}))).map((function(e){return"merged"!==e.className?Object(O.a)({},e,{className:"moved"}):e}));var n=new Array(4-t.length).fill(new h(0));return t=[].concat(Object(N.a)(n),Object(N.a)(t))},S=function(e,t){for(var n=v(e),r=t,a=3;a>0;a--)n[a-1].value===n[a].value&&(n[a].value=2*n[a-1].value,n[a].className="merged",n[a-1].value=0,r+=n[a].value);return[n,r]},C=function(e){return v(e).map((function(e){return e.reverse()}))},M=function(e){for(var t=v(e),n=0;n<4;n++)for(var r=0;r<4;r++)t[n][r]=e[r][n];return t},G=function(e){var t=v(e);return t=M(t),t=M(t),t=M(t)},L=function(){var e=Array(4).fill().map((function(){return Array(4).fill(new h(2))})),t=Object(r.useRef)(),n=Object(r.useState)(e),c=Object(u.a)(n,2),o=c[0],d=c[1],N=Object(r.useState)(0),O=Object(u.a)(N,2),k=O[0],y=O[1],S=Object(r.useState)(0),C=Object(u.a)(S,2),M=C[0],G=C[1],L=Object(r.useState)(e),J=Object(u.a)(L,2),A=J[0],U=J[1],Y=Object(r.useState)(0),z=Object(u.a)(Y,2),B=z[0],D=z[1],I=Object(r.useState)(!1),R=Object(u.a)(I,2),T=R[0],W=R[1],X=Object(r.useCallback)((function(){W(!1),U(e),y(0);var t=v(e);!function(e){for(var t=0;t<2;){var n=new p;e[n.row][n.column].value||(e[n.row][n.column]=n,t++)}}(t),d(t)}),[e]);Object(r.useEffect)((function(){X()}),[]),Object(r.useEffect)((function(){(function(e){for(var t=0;t<4;t++)for(var n=0;n<4;n++){if(!e[t][n].value)return!1;e[t][n].className=""}return!0})(o)&&!function(e){for(var t=0;t<4;t++)for(var n=function(n){for(var r=e[t][n],a=function(e,t){return t-(e+1)<0},c=function(t,n,r){return e[t-(r+1)][n]},o=function(e,t,n){return!a(n,e)&&!c(e,t,n)},u=0,l=!1;!l;)o(t,n,u)?u++:l=!0;if(u||function(e,t,n){return!a(n,e)&&c(e,t,n)===r}(t,n,u))return{v:!0}},r=0;r<4;r++){var a=n(r);if("object"===typeof a)return a.v}return!1}(o)&&!function(e){for(var t=3;t>-1;t--)for(var n=function(n){var r=e[t][n];if(!r)return"continue";for(var a=function(e,t){return e+(t+1)>3},c=function(t,n,r){return e[t+(r+1)][n]},o=function(e,t,n){return!a(e,n)&&!c(e,t,n)},u=0,l=!1;!l;)o(t,n,u)?u++:l=!0;return u||function(e,t,n){return!a(e,n)&&c(e,t,n)===r}(t,n,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&!function(e){for(var t=0;t<4;t++)for(var n=function(n){var r=e[n][t];if(!r)return"continue";for(var a=function(e,t){return e-(t+1)<0},c=function(t,n,r){return e[t][n-(r+1)]},o=function(e,t,n){return!a(t,n)&&!c(e,t,n)},u=0,l=!1;!l;)o(n,t,u)?u++:l=!0;return u||function(e,t,n){return!a(t,n)&&c(e,t,n)===r}(n,t,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&!function(e){for(var t=3;t>-1;t--)for(var n=function(n){var r=e[n][t];if(!r)return"continue";for(var a=function(e,t){return e+(t+1)>3},c=function(t,n,r){return e[t][n+(r+1)]},o=function(e,t,n){return!a(t,n)&&!c(e,t,n)},u=0,l=!1;!l;)o(n,t,u)?u++:l=!0;return u||function(e,t,n){return!a(t,n)&&c(e,t,n)===r}(n,t,u)?{v:!0}:void 0},r=0;r<4;r++){var a=n(r);switch(a){case"continue":continue;default:if("object"===typeof a)return a.v}}return!1}(o)&&W(!0)}),[o]),Object(r.useEffect)((function(){k>M&&G(k);var e=t.current,n=v(o),r=0,a=null,c=null,l=function(e){var t=function(e){return e.touches}(e)[0];a=t.clientX,c=t.clientY},i=function(e){if(e.preventDefault(),a&&c){var t=e.touches[0].clientX,l=e.touches[0].clientY,i=a-t,s=c-l;if(Math.abs(i)>Math.abs(s))if(i>0){var f=g(n,r),m=Object(u.a)(f,2);n=m[0],r=m[1]}else{var v=w(n,r),h=Object(u.a)(v,2);n=h[0],r=h[1]}else if(s>0){var p=j(n,r),N=Object(u.a)(p,2);n=N[0],r=N[1]}else{var O=_(n,r),k=Object(u.a)(O,2);n=k[0],r=k[1]}a=null,c=null,!b(o,n)&&E(n),U(o),d(n)}},s=function(e){38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),function(e){switch(e){case 38:var t=j(n,r),a=Object(u.a)(t,2);n=a[0],r=a[1];break;case 40:var c=_(n,r),l=Object(u.a)(c,2);n=l[0],r=l[1];break;case 37:var i=g(n,r),s=Object(u.a)(i,2);n=s[0],r=s[1];break;case 39:var f=w(n,r),m=Object(u.a)(f,2);n=m[0],r=m[1]}D(k),y((function(e){return e+r})),U(o),!b(o,n)&&E(n),d(n)}(e.keyCode)};return document.addEventListener("keydown",s),e.addEventListener("touchstart",l),e.addEventListener("touchmove",i),function(){document.removeEventListener("keydown",s),e.removeEventListener("touchstart",l),e.removeEventListener("touchmove",i)}}),[M,o,k]);return a.a.createElement("section",{className:"game"},a.a.createElement("header",{className:"game-header"},a.a.createElement("div",{className:"game-info"},a.a.createElement("h1",{className:"game-info__title"},"2048 Clone"),a.a.createElement(m,{score:k,bestScore:M})),a.a.createElement("div",{className:"buttons"},a.a.createElement(f,{handleUndoClick:function(){b(A,e)||(d(A),y(B))}}),a.a.createElement(l,{newGame:X,parent:"game-header"}))),a.a.createElement("main",{ref:t,className:"grid"},o.map((function(e,t){return e.map((function(t,n){return a.a.createElement(s,{key:n,cell:t,row:e,column:n})}))}))),a.a.createElement(i,{isOpen:T,newGame:X}))},J=function(){return a.a.createElement("footer",{className:"footer"},a.a.createElement("p",{className:"footer__para"},a.a.createElement("span",{className:"bold"},"HOW TO PLAY:")," Use your"," ",a.a.createElement("span",{className:"bold"},"arrow keys")," to move the tiles. When two tiles with the same number touch, they ",a.a.createElement("span",{className:"bold"},"merge into one!")),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("p",{className:"footer__para"},"This game was created by"," ",a.a.createElement("a",{href:"http://gabrielecirulli.com/",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"Gabriele Cirulli")," ","\u2014 original game"," ",a.a.createElement("a",{href:"http://git.io/2048",target:"_blank",rel:"noopener noreferrer",className:"link bold"},"website.")," ","I've just cloned the game for fun and testing my code skills."),a.a.createElement("hr",{className:"footer__hr"}),a.a.createElement("div",{className:"footer__links"},a.a.createElement("a",{href:"https://github.com/zronev/2048-clone",target:"_blank",rel:"noopener noreferrer",className:"button"},"Repo"),a.a.createElement("a",{href:"https://github.com/zronev",target:"_blank",rel:"noopener noreferrer",className:"button"},"Github profile")))};var A=function(){return a.a.createElement("div",{className:"main"},a.a.createElement(L,null),a.a.createElement(J,null))};n(12),n(13);o.a.render(a.a.createElement(A,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.9e52b04c.chunk.js.map