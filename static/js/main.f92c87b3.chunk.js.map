{"version":3,"sources":["components/Header.js","helpers/utility.js","helpers/cell.js","components/Cell.js","components/NewGameButton.js","helpers/moves.js","components/ModalLost.js","components/Grid.js","components/Footer.js","App.js","index.js"],"names":["Header","className","arrayClone","arr","JSON","parse","stringify","randomCell","this","row","Math","floor","random","column","value","Cell","NewGameButton","newGame","parent","onClick","checkUp","grid","currentCell","isOutBoundaries","distance","cellAbove","doesntColliding","foundDistance","isEqual","checkDown","cellBelow","checkLeft","cellOnLeft","checkRight","ModalLost","isOpen","Grid","inititalState","Array","fill","map","useState","setGrid","modalIsOpen","setModalIsOpen","useCallback","gridClone","count","cell","spawnTwoRandomCells","round","direction","hasMoveBeenMade","spawnRandomCell","useEffect","checkIsGridFull","console","log","handleKeyDown","e","keyCode","preventDefault","document","addEventListener","removeEventListener","index","key","Footer","href","target","rel","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f92c87b3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"header__title\">2048</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","export const arrayClone = arr => JSON.parse(JSON.stringify(arr)) // to deep clone matrix\r\n","class randomCell {\r\n  constructor() {\r\n    this.row = Math.floor(Math.random() * Math.floor(4))\r\n    this.column = Math.floor(Math.random() * Math.floor(4))\r\n    this.value = Math.random() > 0.9 ? 4 : 2\r\n  }\r\n}\r\n\r\nexport const spawnTwoRandomCells = grid => {\r\n  let count = 0\r\n  while (count < 2) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\nexport const spawnRandomCell = grid => {\r\n  let count = 0\r\n  while (count < 1) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst Cell = ({ value }) => {\r\n  return (\r\n    <div\r\n      className={`grid__cell \r\n      ${value ? '' : 'grid__cell--empty'} \r\n      ${value > 2 && value <= 2048 ? `grid__cell--${value}` : ''}\r\n      ${value > 2048 ? `grid__cell--over-2048` : ''}`}\r\n    >\r\n      {value ? value : ''}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cell\r\n","import React from 'react'\r\n\r\nconst NewGameButton = ({ newGame, parent }) => {\r\n  return (\r\n    <button onClick={newGame} className={`button button--new-game ${parent}__button`}>\r\n      New Game\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default NewGameButton\r\n","export const checkUp = grid => {\r\n  for (let row = 0; row < 4; row++) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n\r\n      let isOutBoundaries = (distance, row) => row - (distance + 1) < 0\r\n\r\n      let cellAbove = (row, column, distance) => grid[row - (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) &&\r\n        cellAbove(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(distance, row) && !cellAbove(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkDown = grid => {\r\n  for (let row = 3; row > -1; row--) {\r\n    for (let column = 0; column < 4; column++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (row, distance) => row + (distance + 1) > 3\r\n\r\n      let cellBelow = (row, column, distance) => grid[row + (distance + 1)][column]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) &&\r\n        cellBelow(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(row, distance) && !cellBelow(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkLeft = grid => {\r\n  for (let column = 0; column < 4; column++) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column - (distance + 1) < 0\r\n\r\n      let cellOnLeft = (row, column, distance) => grid[row][column - (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnLeft(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport const checkRight = grid => {\r\n  for (let column = 3; column > -1; column--) {\r\n    for (let row = 0; row < 4; row++) {\r\n      const currentCell = grid[row][column]\r\n      if (!currentCell) continue\r\n\r\n      let isOutBoundaries = (column, distance) => column + (distance + 1) > 3\r\n\r\n      let cellOnLeft = (row, column, distance) => grid[row][column + (distance + 1)]\r\n\r\n      let isEqual = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) &&\r\n        cellOnLeft(row, column, distance) === currentCell\r\n\r\n      let doesntColliding = (row, column, distance) =>\r\n        !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n      let distance = 0\r\n      let foundDistance = false\r\n\r\n      while (!foundDistance) {\r\n        if (!doesntColliding(row, column, distance)) foundDistance = true\r\n        else distance++\r\n      }\r\n\r\n      if (distance || isEqual(row, column, distance)) return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n","import React from 'react'\r\nimport NewGameButton from './NewGameButton'\r\n\r\nconst ModalLost = ({ isOpen, newGame }) => {\r\n  return (\r\n    <div className={`modal ${isOpen ? 'modal--open' : ''}`}>\r\n      <h3 className=\"modal__title\">You lost...</h3>\r\n      <NewGameButton newGame={newGame} parent=\"modal\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalLost\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport { arrayClone } from '../helpers/utility'\r\nimport { spawnTwoRandomCells, spawnRandomCell } from '../helpers/cell'\r\nimport Cell from './Cell'\r\nimport NewGameButton from './NewGameButton'\r\nimport { checkUp, checkDown, checkLeft, checkRight } from '../helpers/moves'\r\nimport ModalLost from './ModalLost'\r\n\r\nconst Grid = () => {\r\n  const inititalState = Array(4)\r\n    .fill()\r\n    .map(() => Array(4).fill(0))\r\n  const [grid, setGrid] = useState(inititalState)\r\n  const [modalIsOpen, setModalIsOpen] = useState(false)\r\n\r\n  // Key codes\r\n  const UP = 38\r\n  const DOWN = 40\r\n  const LEFT = 37\r\n  const RIGHT = 39\r\n\r\n  const newGame = useCallback(() => {\r\n    setModalIsOpen(false)\r\n    let gridClone = arrayClone(inititalState)\r\n    spawnTwoRandomCells(gridClone)\r\n    setGrid(gridClone)\r\n  }, [inititalState])\r\n\r\n  const round = (direction, grid) => {\r\n    let gridClone = arrayClone(grid)\r\n    let hasMoveBeenMade = false\r\n\r\n    switch (direction) {\r\n      case UP:\r\n        for (let row = 0; row < 4; row++) {\r\n          for (let column = 0; column < 4; column++) {\r\n            const currentCell = gridClone[row][column]\r\n            if (!currentCell) continue\r\n\r\n            let isOutBoundaries = (distance, row) => row - (distance + 1) < 0\r\n\r\n            let cellAbove = (row, column, distance) =>\r\n              gridClone[row - (distance + 1)][column]\r\n\r\n            let isEqual = (row, column, distance) =>\r\n              !isOutBoundaries(distance, row) &&\r\n              cellAbove(row, column, distance) === currentCell\r\n\r\n            let doesntColliding = (row, column, distance) =>\r\n              !isOutBoundaries(distance, row) && !cellAbove(row, column, distance)\r\n\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              if (!doesntColliding(row, column, distance)) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            if (distance || isEqual(row, column, distance)) {\r\n              if (isEqual(row, column, distance))\r\n                gridClone[row - (distance + 1)][column] = currentCell * 2\r\n              else gridClone[row - distance][column] = currentCell\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual(row, column, distance)) row = 0\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case DOWN:\r\n        for (let row = 3; row > -1; row--) {\r\n          for (let column = 0; column < 4; column++) {\r\n            const currentCell = gridClone[row][column]\r\n            if (!currentCell) continue\r\n\r\n            let isOutBoundaries = (row, distance) => row + (distance + 1) > 3\r\n\r\n            let cellBelow = (row, column, distance) =>\r\n              gridClone[row + (distance + 1)][column]\r\n\r\n            let isEqual = (row, column, distance) =>\r\n              !isOutBoundaries(row, distance) &&\r\n              cellBelow(row, column, distance) === currentCell\r\n\r\n            let doesntColliding = (row, column, distance) =>\r\n              !isOutBoundaries(row, distance) && !cellBelow(row, column, distance)\r\n\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              if (!doesntColliding(row, column, distance)) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            if (distance || isEqual(row, column, distance)) {\r\n              if (isEqual(row, column, distance))\r\n                gridClone[row + (distance + 1)][column] = gridClone[row][column] * 2\r\n              else gridClone[row + distance][column] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual(row, column, distance)) row = 3\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case LEFT:\r\n        for (let column = 0; column < 4; column++) {\r\n          for (let row = 0; row < 4; row++) {\r\n            const currentCell = gridClone[row][column]\r\n            if (!currentCell) continue\r\n\r\n            let isOutBoundaries = (column, distance) => column - (distance + 1) < 0\r\n\r\n            let cellOnLeft = (row, column, distance) =>\r\n              gridClone[row][column - (distance + 1)]\r\n\r\n            let isEqual = (row, column, distance) =>\r\n              !isOutBoundaries(column, distance) &&\r\n              cellOnLeft(row, column, distance) === currentCell\r\n\r\n            let doesntColliding = (row, column, distance) =>\r\n              !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              if (!doesntColliding(row, column, distance)) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            if (distance || isEqual(row, column, distance)) {\r\n              if (isEqual(row, column, distance))\r\n                gridClone[row][column - (distance + 1)] = gridClone[row][column] * 2\r\n              else gridClone[row][column - distance] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual(row, column, distance)) column = 0\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case RIGHT:\r\n        for (let column = 3; column > -1; column--) {\r\n          for (let row = 0; row < 4; row++) {\r\n            const currentCell = gridClone[row][column]\r\n            if (!currentCell) continue\r\n\r\n            let isOutBoundaries = (column, distance) => column + (distance + 1) > 3\r\n\r\n            let cellOnLeft = (row, column, distance) =>\r\n              gridClone[row][column + (distance + 1)]\r\n\r\n            let isEqual = (row, column, distance) =>\r\n              !isOutBoundaries(column, distance) &&\r\n              cellOnLeft(row, column, distance) === currentCell\r\n\r\n            let doesntColliding = (row, column, distance) =>\r\n              !isOutBoundaries(column, distance) && !cellOnLeft(row, column, distance)\r\n\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              if (!doesntColliding(row, column, distance)) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            if (distance || isEqual(row, column, distance)) {\r\n              if (isEqual(row, column, distance))\r\n                gridClone[row][column + (distance + 1)] = gridClone[row][column] * 2\r\n              else gridClone[row][column + distance] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual) column = 3\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n\r\n    hasMoveBeenMade && spawnRandomCell(gridClone)\r\n    setGrid(gridClone)\r\n  }\r\n\r\n  useEffect(() => {\r\n    newGame()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const checkIsGridFull = grid => {\r\n      for (let row = 0; row < 4; row++) {\r\n        for (let column = 0; column < 4; column++) {\r\n          if (!grid[row][column]) return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n\r\n    const checkIsGameLost = () => {\r\n      console.log('checkUp: ', checkUp(grid))\r\n      console.log('checkDown: ', checkDown(grid))\r\n      console.log('checkLeft: ', checkLeft(grid))\r\n      console.log('checkRight: ', checkRight(grid))\r\n      if (!checkUp(grid) && !checkDown(grid) && !checkLeft(grid) && !checkRight(grid)) {\r\n        setModalIsOpen(true)\r\n        console.log('YOU LOST')\r\n      }\r\n    }\r\n\r\n    if (checkIsGridFull(grid)) checkIsGameLost()\r\n  }, [grid])\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      // disable scrolling on arrows\r\n      if (e.keyCode === UP || e.keyCode === DOWN) e.preventDefault()\r\n      round(e.keyCode, grid)\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown)\r\n    return () => document.removeEventListener('keydown', handleKeyDown)\r\n  }, [grid])\r\n\r\n  return (\r\n    <section className=\"game\">\r\n      <NewGameButton newGame={newGame} parent=\"game\" />\r\n      <main className=\"grid\">\r\n        {grid.map(row => row.map((cell, index) => <Cell key={index} value={cell} />))}\r\n      </main>\r\n      <ModalLost isOpen={modalIsOpen} newGame={newGame} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Grid\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__para\">\r\n        <span className=\"bold\">HOW TO PLAY:</span> Use your{' '}\r\n        <span className=\"bold\">arrow keys</span> to move the tiles. When two tiles with\r\n        the same number touch, they <span className=\"bold\">merge into one!</span>\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <p className=\"footer__para\">\r\n        This game was created by{' '}\r\n        <a\r\n          href=\"http://gabrielecirulli.com/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          Gabriele Cirulli\r\n        </a>{' '}\r\n        â€” original game{' '}\r\n        <a\r\n          href=\"http://git.io/2048\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          website.\r\n        </a>{' '}\r\n        I've just cloned the game for fun and testing my code skills.\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <div className=\"footer__links\">\r\n        <a\r\n          href=\"https://github.com/zronev/2048-clone\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Repo\r\n        </a>\r\n        <a\r\n          href=\"https://github.com/zronev\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Github profile\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\nimport Header from './components/Header'\nimport Grid from './components/Grid'\nimport Footer from './components/Footer'\n\nfunction App() {\n  return (\n    <div className=\"main\">\n      <Header />\n      <Grid />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport 'normalize.css'\nimport './scss/style.scss'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}