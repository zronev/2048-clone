{"version":3,"sources":["components/Header.js","helpers/utility.js","helpers/game.js","components/Cell.js","components/NewGameButton.js","components/Grid.js","components/Footer.js","App.js","index.js"],"names":["Header","className","arrayClone","arr","JSON","parse","stringify","randomCell","this","row","Math","floor","random","column","value","Cell","NewGameButton","newGame","onClick","Grid","inititalState","Array","fill","map","useState","grid","setGrid","useCallback","gridClone","count","cell","spawnTwoRandomCells","round","direction","hasMoveBeenMade","currentCell","distance","foundDistance","isEqual","spawnRandomCell","useEffect","handleKeyDown","e","keyCode","preventDefault","document","addEventListener","removeEventListener","index","key","Footer","href","target","rel","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8303588f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"header__title\">2048</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","export const arrayClone = arr => JSON.parse(JSON.stringify(arr)) // to deep clone matrix\r\n","class randomCell {\r\n  constructor() {\r\n    this.row = Math.floor(Math.random() * Math.floor(4))\r\n    this.column = Math.floor(Math.random() * Math.floor(4))\r\n    this.value = Math.random() > 0.9 ? 4 : 2\r\n  }\r\n}\r\n\r\nexport const spawnTwoRandomCells = grid => {\r\n  let count = 0\r\n  while (count < 2) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\nexport const spawnRandomCell = grid => {\r\n  let count = 0\r\n  while (count < 1) {\r\n    const cell = new randomCell()\r\n\r\n    if (!grid[cell.row][cell.column]) {\r\n      grid[cell.row][cell.column] = cell.value\r\n      count++\r\n    }\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst Cell = ({ value }) => {\r\n  return (\r\n    <div\r\n      className={`grid__cell \r\n      ${value ? '' : 'grid__cell--empty'} \r\n      ${value > 2 && value <= 2048 ? `grid__cell--${value}` : ''}\r\n      ${value > 2048 ? `grid__cell--over-2048` : ''}`}\r\n    >\r\n      {value ? value : ''}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cell\r\n","import React from 'react'\r\n\r\nconst NewGameButton = ({ newGame }) => {\r\n  return (\r\n    <button onClick={newGame} className=\"button button--new-game game__button\">\r\n      New Game\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default NewGameButton\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport { arrayClone } from '../helpers/utility'\r\nimport { spawnTwoRandomCells, spawnRandomCell } from '../helpers/game'\r\nimport Cell from './Cell'\r\nimport NewGameButton from './NewGameButton'\r\n\r\nconst Grid = () => {\r\n  const inititalState = Array(4)\r\n    .fill()\r\n    .map(() => Array(4).fill(0))\r\n  const [grid, setGrid] = useState(inititalState)\r\n\r\n  // Key codes\r\n  const UP = 38\r\n  const DOWN = 40\r\n  const LEFT = 37\r\n  const RIGHT = 39\r\n\r\n  const newGame = useCallback(() => {\r\n    let gridClone = arrayClone(inititalState)\r\n    spawnTwoRandomCells(gridClone)\r\n    setGrid(gridClone)\r\n  }, [inititalState])\r\n\r\n  const round = (direction, grid) => {\r\n    let gridClone = arrayClone(grid)\r\n    let hasMoveBeenMade = false\r\n\r\n    switch (direction) {\r\n      case UP:\r\n        for (let row = 0; row < 4; row++) {\r\n          for (let column = 0; column < 4; column++) {\r\n            if (!gridClone[row][column]) continue\r\n            const currentCell = gridClone[row][column]\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              let isOutBoundaries = row - (distance + 1) < 0\r\n              let doesntColliding =\r\n                !isOutBoundaries && !gridClone[row - (distance + 1)][column]\r\n\r\n              if (!doesntColliding) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            let isOutBoundaries = row - (distance + 1) < 0\r\n            let isEqual =\r\n              !isOutBoundaries && gridClone[row - (distance + 1)][column] === currentCell\r\n\r\n            if (distance || isEqual) {\r\n              let isOutBoundaries = row - (distance + 1) < 0\r\n              let isEqual =\r\n                !isOutBoundaries &&\r\n                gridClone[row - (distance + 1)][column] === currentCell\r\n\r\n              if (isEqual) gridClone[row - (distance + 1)][column] = currentCell * 2\r\n              else gridClone[row - distance][column] = currentCell\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual) row = 0\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case DOWN:\r\n        for (let row = 3; row > -1; row--) {\r\n          for (let column = 0; column < 4; column++) {\r\n            if (!gridClone[row][column]) continue\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              let isOutBoundaries = row + (distance + 1) > 3\r\n              let doesntColliding =\r\n                !isOutBoundaries && !gridClone[row + (distance + 1)][column]\r\n\r\n              if (!doesntColliding) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            let isOutBoundaries = row + (distance + 1) > 3\r\n            let isEqual =\r\n              !isOutBoundaries &&\r\n              gridClone[row + (distance + 1)][column] === gridClone[row][column]\r\n\r\n            if (distance || isEqual) {\r\n              let isOutBoundaries = row + (distance + 1) > 3\r\n              let isEqual =\r\n                !isOutBoundaries &&\r\n                gridClone[row + (distance + 1)][column] === gridClone[row][column]\r\n\r\n              if (isEqual)\r\n                gridClone[row + (distance + 1)][column] = gridClone[row][column] * 2\r\n              else gridClone[row + distance][column] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual) row = 3\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case LEFT:\r\n        for (let column = 0; column < 4; column++) {\r\n          for (let row = 0; row < 4; row++) {\r\n            if (!gridClone[row][column]) continue\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              let isOutBoundaries = column - (distance + 1) < 0\r\n              let doesntColliding =\r\n                !isOutBoundaries && !gridClone[row][column - (distance + 1)]\r\n\r\n              if (!doesntColliding) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            let isOutBoundaries = column - (distance + 1) < 0\r\n            let isEqual =\r\n              !isOutBoundaries &&\r\n              gridClone[row][column - (distance + 1)] === gridClone[row][column]\r\n\r\n            if (distance || isEqual) {\r\n              let isOutBoundaries = column - (distance + 1) < 0\r\n              let isEqual =\r\n                !isOutBoundaries &&\r\n                gridClone[row][column - (distance + 1)] === gridClone[row][column]\r\n\r\n              if (isEqual)\r\n                gridClone[row][column - (distance + 1)] = gridClone[row][column] * 2\r\n              else gridClone[row][column - distance] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual) column = 0\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      case RIGHT:\r\n        for (let column = 3; column > -1; column--) {\r\n          for (let row = 0; row < 4; row++) {\r\n            if (!gridClone[row][column]) continue\r\n            let distance = 0\r\n            let foundDistance = false\r\n\r\n            while (!foundDistance) {\r\n              let isOutBoundaries = column + (distance + 1) > 3\r\n              let doesntColliding =\r\n                !isOutBoundaries && !gridClone[row][column + (distance + 1)]\r\n\r\n              if (!doesntColliding) foundDistance = true\r\n              else distance++\r\n            }\r\n\r\n            let isOutBoundaries = column + (distance + 1) > 3\r\n            let isEqual =\r\n              !isOutBoundaries &&\r\n              gridClone[row][column + (distance + 1)] === gridClone[row][column]\r\n\r\n            if (distance || isEqual) {\r\n              let isOutBoundaries = column + (distance + 1) > 3\r\n              let isEqual =\r\n                !isOutBoundaries &&\r\n                gridClone[row][column + (distance + 1)] === gridClone[row][column]\r\n\r\n              if (isEqual)\r\n                gridClone[row][column + (distance + 1)] = gridClone[row][column] * 2\r\n              else gridClone[row][column + distance] = gridClone[row][column]\r\n\r\n              gridClone[row][column] = 0\r\n              hasMoveBeenMade = true\r\n              if (isEqual) column = 3\r\n            }\r\n          }\r\n        }\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n\r\n    hasMoveBeenMade && spawnRandomCell(gridClone)\r\n    setGrid(gridClone)\r\n  }\r\n\r\n  useEffect(() => {\r\n    newGame()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      // disable scrolling on arrows\r\n      if (e.keyCode === UP || e.keyCode === DOWN) e.preventDefault()\r\n      round(e.keyCode, grid)\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeyDown)\r\n    return () => document.removeEventListener('keydown', handleKeyDown)\r\n  }, [grid])\r\n\r\n  return (\r\n    <section className=\"game\">\r\n      <NewGameButton newGame={newGame} />\r\n      <main className=\"grid\">\r\n        {grid.map(row => row.map((cell, index) => <Cell key={index} value={cell} />))}\r\n      </main>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Grid\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__para\">\r\n        <span className=\"bold\">HOW TO PLAY</span>: Use your{' '}\r\n        <span className=\"bold\">arrow keys</span> to move the tiles. When two tiles with\r\n        the same number touch, they <span className=\"bold\">merge into one!</span>\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <p className=\"footer__para\">\r\n        This game was created by{' '}\r\n        <a\r\n          href=\"http://gabrielecirulli.com/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          Gabriele Cirulli\r\n        </a>{' '}\r\n        â€” original game{' '}\r\n        <a\r\n          href=\"http://git.io/2048\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"link bold\"\r\n        >\r\n          website.\r\n        </a>{' '}\r\n        I've just cloned the game for fun and testing my code skills.\r\n      </p>\r\n\r\n      <hr className=\"footer__hr\" />\r\n\r\n      <div className=\"footer__links\">\r\n        <a\r\n          href=\"https://github.com/zronev/2048-clone\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Repo\r\n        </a>\r\n        <a\r\n          href=\"https://github.com/zronev\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"button\"\r\n        >\r\n          Github profile\r\n        </a>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\nimport Header from './components/Header'\nimport Grid from './components/Grid'\nimport Footer from './components/Footer'\n\nfunction App() {\n  return (\n    <div className=\"main\">\n      <Header />\n      <Grid />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport 'normalize.css'\nimport './scss/style.scss'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}